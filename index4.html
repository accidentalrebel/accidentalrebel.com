<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>AccidentalRebel.com</title>
  <meta name="author" content="AccidentalRebel">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="canonical" href=".">

  <link href="./favicon.png" rel="icon">

  <link href="http://www.accidentalrebel.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="AccidentalRebel.com Full Atom Feed" />

  <link href="./theme/css/screen.css"  media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="./theme/css/tomorrow.css"  media="screen, projection" rel="stylesheet" type="text/css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>


</head>
  <body>

    <div class="container" id="site-title">
      <div class="col-md-8 col-md-offset-2">
	<h1>
	  <a href=".">
	    AccidentalRebel.com
	  </a>
	</h1>
	<div id="profile">
	  <div class="left">
	    <img src="./theme/images/pic.png" />
	  </div>
	  <div class="right">
	    My name is Karlo and I'm currently employed as a Cyber Security Engineer. I have an interest in threat hunting and malware analysis. I also work on cyber-security related programming projects like malware analysis tools and remote access tools.
	  </div>
	  <div class="clear"></div>
	</div>
	<div id="nav">
	  <ul>
	    <li><a href=".">Home</a></li>
	    <!-- <li><a href="./pages/made.html">My Works</a></li> -->
	    <li class="icon-nav" id="twitter-nav"><a href="https://twitter.com/accidentalrebel">Twitter</a></li>
	    <li class="icon-nav" id="github-nav"><a href="https://github.com/accidentalrebel">Github</a></li>
	    <li class="icon-nav" id="feed-nav"><a href="./feeds/all.atom.xml">RSS</a></li>
	  </ul>
	</div>
      </div>
    </div>

<div class="container">
  <!-- CONTENT GOES HERE -->
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <article>
        <h1><a href="./chef-wars-postmortem--what-went-right-having-a-universe-file.html">Chef Wars Postmortem -- What went right: Having a Universe File</a></h1>
	<div class="meta">
          <time datetime="2017-12-05T12:56:00+08:00">December 05, 2017</time>
          in <span class="categories">
            <a href="./tag/chefwars.html">chefwars</a>,            <a href="./tag/gamedev.html">gamedev</a>,            <a href="./tag/mindcake.html">mindcake</a>,            <a href="./tag/postmortem.html">postmortem</a>          </span>
	</div>
        <p><p><strong>Note: This is from a <a href="http://www.accidentalrebel.com/tags/chefwars_postmortem/">series of articles</a> that outlines the things I've learned while making <a href="http://mindcakegames.com/">Chef Wars</a> for 2+ years.</strong></p>
<p><strong>TLDR</strong></p>
<ul>
<li>All data in our game is contained in one excel file we call the "Universe".</li>
<li>Prototypes can be done on the Universe excel file itself</li>
<li>Iteration is easier as we only need to change one file.</li>
<li>We made a system that downloads changes from our server so players don't need to update their builds.</li>
</ul>
<hr />
<p>Before we started development on Chef Wars, Cliff, my co-founder and game designer for the team, already had pages of spreadsheets containing important values in the game. It's kinda like a game design document but in the form of tables, columns, and rows. This "Universe" file contained everything from stats, dialogue, competitions, locations, chefs, and enemies just to name a few. </p>
<p><img alt="01" src="https://i.imgur.com/rVZqbaH.png" /></p>
<div class="codehilite"><pre><span></span><code>*This file definitely gives a hint on what type of guy Cliff is.*
</code></pre></div>

<p>Having a list of all the data that will be used in the game has helped us visualize the scope and the systems to be built, especially in making prototypes. One time Cliff made a simulation of the battle system using his Excel mastery. The universe data is fed into this simulation (i.e. competition level, recipe power) and the expected values are displayed (i.e. judging result, rewards amount). This mockup allowed us to see how the battles play out and made the whole thing easier for me to understand and implement in the engine.</p>
<p>All the content of the universe file is then converted to the JSON format which is used directly by the game. Iterating on the game is easy because the file would just need to be converted again for the new changes to show up. The conversion process is done manually though using a CSV to JSON tool. I would have automated the process but didn't have the time to work on it.</p>
<p><img alt="02" src="https://i.imgur.com/lE5zqDu.png" /></p>
<div class="codehilite"><pre><span></span><code>*It&#39;s like the Matrix*
</code></pre></div>

<p>Initially, when we wanted to update some values, we would need to push a new build version that players need to download. We figured that this is too cumbersome especially if we really have some critical changes we want to get out as soon as possible. As a solution to this, we made a system where a master copy of the JSONs are saved on our servers. We can change the data from here and the game would automatically download the necessary files that we changed. This is a really great feature that has helped us push important changes without having the need for a new build. But it does require a lot of bandwidth especially if a lot of players request for the new data so we do it only when needed like on crash producing bugs.</p>
<p>As you can see, we've spent a lot of time making sure that our game is data-centric as possible and it benefitted us immensely. This approach has been so useful that we plan to use it on our future projects. And hopefully, after reading this, we've convinced you to try it out too.</p>
<p><em>[Check out how the universe has been transformed into a game by playing Chef Wars on <a href="https://play.google.com/store/apps/details?id=air.com.mindcakegames.chefwars&amp;hl=en">Android</a> and <a href="https://play.google.com/store/apps/details?id=air.com.mindcakegames.chefwars&amp;hl=en">iOS</a>. Also, be sure to check out Cliff's postmortem where he talks about the <a href="http://mindcakegames.com/chef-wars-launch-post-mortem/">things we learned during our global launch</a>!]</em></p>
          <!-- <a class="full-article-link pull-right" rel="full-article" href="./chef-wars-postmortem--what-went-right-having-a-universe-file.html">Read on →</a> -->
      </article>
    </div>
  </div>
  <!-- CONTENT GOES HERE -->
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <article>
        <h1><a href="./temp-solution-for-when-copying-does-not-work-in-emacs-under-windows-subsystem-for-linux.html">Temp Solution For When Text Copying Does Not Work in Emacs Under Windows Subsytem for Linux</a></h1>
	<div class="meta">
          <time datetime="2017-09-23T13:08:00+08:00">September 23, 2017</time>
          in <span class="categories">
            <a href="./tag/emacs-windows-linux.html">emacs windows linux</a>          </span>
	</div>
        <p><p>One of the problems I was having with my Emacs environment under WSL <em>(Windows Subsystem for Linux, aka. Bash On Windows)</em> is that I could not copy text from WSL Emacs to other Windows applications. Copy and pasting from Windows to Emacs works without any problems so it's weird it does not work the other way around.</p>
<p>I tried a lot of solutions from Google but none of them seem to work. There was an emacs package called <a href="https://github.com/rolandwalker/simpleclip">simpleclip</a> that worked but the results were not consistent.</p>
<p>I then realized that a temporary solution would be to make use of Windows' clip.exe command line utility which can bme seen below.</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">arebel-set-clipboard-data</span> <span class="p">(</span><span class="nv">str-val</span><span class="p">)</span>
  <span class="s">&quot;Puts text in Windows clipboard. Copying to Windows from WSL does </span>
<span class="s">not work on my end so this one is a temporary solution.</span>

<span class="s">This function is called from within the simpleclip package when copy </span>
<span class="s">or bgcopy command is issued.&quot;</span>
  <span class="p">(</span><span class="nf">start-process</span> <span class="s">&quot;cmd&quot;</span> <span class="no">nil</span> <span class="s">&quot;cmd.exe&quot;</span> <span class="s">&quot;/C&quot;</span> <span class="p">(</span><span class="nf">concat</span> <span class="s">&quot;echo &quot;</span> <span class="p">(</span><span class="nv">replace-regexp-in-string</span> <span class="s">&quot;\n&quot;</span> <span class="s">&quot;\r&quot;</span> <span class="nv">str-val</span><span class="p">)</span> <span class="s">&quot; | clip.exe&quot;</span><span class="p">)))</span>
</code></pre></div>

<p>It works quite nicely especially after integrating it with simpleclip. This would do for now until I find a better solution.</p>
<blockquote>
<p><strong>EDIT (2017-10-01):</strong> Turns out the original code could not copy a region with multiple lines due to the difference in carriage return characters. This is now fixed with <code>(replace-regexp-in-string "\n" "\r" str-val)</code>.</p>
</blockquote>
          <!-- <a class="full-article-link pull-right" rel="full-article" href="./temp-solution-for-when-copying-does-not-work-in-emacs-under-windows-subsystem-for-linux.html">Read on →</a> -->
      </article>
    </div>
  </div>
  <!-- CONTENT GOES HERE -->
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <article>
        <h1><a href="./converting-org-journal-entry-to-org-page-post.html">Converting org-journal entry to org-page post</a></h1>
	<div class="meta">
          <time datetime="2017-04-19T13:17:00+08:00">April 19, 2017</time>
          in <span class="categories">
            <a href="./tag/emacs-org-mode.html">emacs org-mode</a>          </span>
	</div>
        <p><p>Since my recent switch from Wordpress to <a href="https://github.com/kelvinh/org-page">org-page</a> I wanted a way to convert my org-journal entries to org-page posts. Instead of copying each entry by hand and pasting to an org-page new page buffer I decided to make an elisp code that would do it automatically which can be seen below:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">arebel-org-journal-entry-to-org-page-post</span> <span class="p">()</span>
  <span class="s">&quot;Copy the org-journal entry at point and then convert it to a org-page new post buffer.&quot;</span>
  <span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nf">eq</span> <span class="ss">&#39;org-journal-mode</span> <span class="nv">major-mode</span><span class="p">)</span>
      <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">headline-text</span> <span class="p">(</span><span class="nf">nth</span> <span class="mi">4</span> <span class="p">(</span><span class="nv">org-heading-components</span><span class="p">)))</span>
        <span class="p">(</span><span class="nv">entry-text</span> <span class="p">(</span><span class="nv">org-get-entry</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">funcall-interactively</span> <span class="ss">&#39;op/new-post</span> <span class="s">&quot;blog&quot;</span> <span class="p">(</span><span class="nf">concat</span> <span class="p">(</span><span class="nf">buffer-name</span><span class="p">)</span> <span class="s">&quot;-&quot;</span> <span class="nv">headline-text</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">insert</span> <span class="nv">entry-text</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">message</span> <span class="s">&quot;This function can only be called inside org-journal-mode.&quot;</span><span class="p">))</span> <span class="p">)</span>
</code></pre></div>

<p>The function is simple and uses functions from org-mode and org-page.</p>
<ul>
<li>First, it checks if the current buffer is in org-journal-mode</li>
<li>Then it gets the headline text and entry texts</li>
<li>It then calls op/new-post. It does it interactively so that it will trigger the prompts needed to populate the template. (Also notice that it takes the org-journal buffer name plus time as the blog post's org file name. This way I don't have to specify it.)</li>
<li>It then inserts the entry-text at the end of the buffer.</li>
</ul>
<p>From here I am free to edit, commit, then publish.</p>
<p>It's working great. As proof this post you are reading right now has been made with the code above.</p>
          <!-- <a class="full-article-link pull-right" rel="full-article" href="./converting-org-journal-entry-to-org-page-post.html">Read on →</a> -->
      </article>
    </div>
  </div>
  <!-- CONTENT GOES HERE -->
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <article>
        <h1><a href="./minifying-buffer-contents-in-emacs.html">Converting org-journal entry to org-page post</a></h1>
	<div class="meta">
          <time datetime="2017-04-19T13:17:00+08:00">April 19, 2017</time>
          in <span class="categories">
            <a href="./tag/emacs.html">emacs</a>          </span>
	</div>
        <p><p>I needed a way to minify JSON files from Emacs so I made the short function below.</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">arebel-minify-buffer-contents</span><span class="p">()</span>
    <span class="s">&quot;Minifies the buffer contents by removing whitespaces.&quot;</span>
    <span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">delete-whitespace-rectangle</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">)</span> <span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
    <span class="p">(</span><span class="nv">mark-whole-buffer</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">goto-char</span> <span class="p">(</span><span class="nf">point-min</span><span class="p">))</span>
    <span class="p">(</span><span class="k">while</span> <span class="p">(</span><span class="nf">search-forward</span> <span class="s">&quot;\n&quot;</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)</span> <span class="p">(</span><span class="nf">replace-match</span> <span class="s">&quot;&quot;</span> <span class="no">nil</span> <span class="no">t</span><span class="p">)))</span>
</code></pre></div>

<p>The function is very simple. First it deletes the whitespaces for the whole current buffer then removes every newline.</p>
<p>This effectively turns this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="nt">&quot;glossary&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;example glossary&quot;</span><span class="p">,</span>
        <span class="nt">&quot;GlossDiv&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span>
            <span class="nt">&quot;GlossList&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;GlossEntry&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;ID&quot;</span><span class="p">:</span> <span class="s2">&quot;SGML&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;SortAs&quot;</span><span class="p">:</span> <span class="s2">&quot;SGML&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;GlossTerm&quot;</span><span class="p">:</span> <span class="s2">&quot;Standard Generalized Markup Language&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;Acronym&quot;</span><span class="p">:</span> <span class="s2">&quot;SGML&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;Abbrev&quot;</span><span class="p">:</span> <span class="s2">&quot;ISO 8879:1986&quot;</span><span class="p">,</span>
<span class="nt">&quot;GlossDef&quot;</span><span class="p">:</span> <span class="p">{</span>


                          <span class="nt">&quot;para&quot;</span><span class="p">:</span> <span class="s2">&quot;A meta-markup language, used to create markup languages such as DocBook.&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;GlossSeeAlso&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;GML&quot;</span><span class="p">,</span> <span class="s2">&quot;XML&quot;</span><span class="p">]</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;GlossSee&quot;</span><span class="p">:</span> <span class="s2">&quot;markup&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>To this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="nt">&quot;glossary&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;example glossary&quot;</span><span class="p">,</span><span class="nt">&quot;GlossDiv&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span><span class="nt">&quot;GlossList&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;GlossEntry&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;ID&quot;</span><span class="p">:</span> <span class="s2">&quot;SGML&quot;</span><span class="p">,</span><span class="nt">&quot;SortAs&quot;</span><span class="p">:</span> <span class="s2">&quot;SGML&quot;</span><span class="p">,</span><span class="nt">&quot;GlossTerm&quot;</span><span class="p">:</span> <span class="s2">&quot;Standard Generalized Markup Language&quot;</span><span class="p">,</span><span class="nt">&quot;Acronym&quot;</span><span class="p">:</span> <span class="s2">&quot;SGML&quot;</span><span class="p">,</span><span class="nt">&quot;Abbrev&quot;</span><span class="p">:</span> <span class="s2">&quot;ISO 8879:1986&quot;</span><span class="p">,</span><span class="nt">&quot;GlossDef&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;para&quot;</span><span class="p">:</span> <span class="s2">&quot;A meta-markup language, used to create markup languages such as DocBook.&quot;</span><span class="p">,</span><span class="nt">&quot;GlossSeeAlso&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;GML&quot;</span><span class="p">,</span> <span class="s2">&quot;XML&quot;</span><span class="p">]},</span><span class="nt">&quot;GlossSee&quot;</span><span class="p">:</span> <span class="s2">&quot;markup&quot;</span><span class="p">}}}}}</span>
</code></pre></div>

<p>It works for my current needs but have not fully tested it yet. It works for emacs lisp buffers too.</p>
          <!-- <a class="full-article-link pull-right" rel="full-article" href="./minifying-buffer-contents-in-emacs.html">Read on →</a> -->
      </article>
    </div>
  </div>
</div>
<div class="pagination">
<p class="paginator">
        <a href="./index.html">&#8647;</a>
        <a href="./index3.html">&laquo;</a>
    Page 4 / 4
</p>
</div>
    <footer id="footer" class="her-row">
      <div class="container">
        <div class="row">
          <h4>Powered by <a href="http://blog.getpelican.com/">Pelican</a>. Designed by <a href="http://AdrianArtiles.com">Adrian Artiles</a>.</h4>
        </div>
      </div>
    </footer>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55068085-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-55068085-2');
    </script>
  </body>
</html>