<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archives | AccidentalRebel.com</title>
    
    <link href="https://www.accidentalrebel.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="AccidentalRebel.com Atom Feed" />
    
    <link rel="stylesheet" href="./theme/css/main.css">
    
</head>
<body>
    <div class="progress-bar" id="progress"></div>
    
    <header>
        <div class="container">
            <nav>
                <a href="./" class="site-title">AccidentalRebel.com</a>
                <button class="menu-toggle" onclick="toggleMenu()">☰</button>
                <ul class="nav-links" id="navLinks">
                    <li><a href="./archives.html">Archives</a></li>
                    <li><a href="./categories.html">Categories</a></li>
                    <li><a href="./tags.html">Tags</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Comic strip divider -->
    <div class="comic-container">
        <div class="comic-strip"></div>
    </div>

    <main>
        <div class="container">
<article>
    <header class="article-header">
        <h1>Archives</h1>
    </header>

    <div class="article-content">
        <h2>2023</h2>
        <ul class="post-list">
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./classifying-more-with-less-new-vgl4nt-update.html">Classifying More With Less: New VGL4NT Update</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2023-05-20T06:46:00+08:00">Sat 20 May 2023</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <h2 id="tldr">TLDR:</h2>
<ul>
<li>Packed malware machine learning classifier can only previously identify 10 packers</li>
<li>Solution was a customized version of model ensembling, which is to train multiple models and resolve their results</li>
<li>It works with a slight caveat of more extended training and processing, which I could happily live with</li>
</ul>
<p>I recently presented <a href="https://packers.vgl4nt.com/">VGL4NT</a>, my tool that uses machine learning to classify packed malware, at the Blackhat Middle East and Africa meetup. During my talk, I candidly shared one of the tool's limitations which is it can only identify 10 packers because of my hardware constraints. If I want it to be able to identify more, I need to get more GPU (which will be costly) or keep my money and come up with a clever solution. Well, this post is about the latter.</p>
<h2 id="a-simple-solution">A Simple Solution</h2>
<p>The solution I came up with isn't exactly original. It's based on Task Decomposition, which …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./classifying-malware-packers-using-machine-learning.html">Classifying Malware Packers Using Machine Learning</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2023-04-22T08:44:00+08:00">Sat 22 April 2023</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <p>The recent rise in popularity of AI reignited my interest in machine learning. It inspired me to dive deeper into understanding how it can be applied to malware analysis and, more importantly, how to better detect malware packers, as almost every malware nowadays uses them.</p>
<p>My research and experiments eventually led me to make a web app, which I call the VGL4NT Malware Packer Classifier (<a href="https://packers.vgl4nt.com/).">https://packers.vgl4nt.com/).</a>).</p>
<p><img alt="classifying-malware-packers-using-machine-learning-01" src="./images/classifying-malware-packers-using-machine-learning-01.png" /></p>
<p>(For those curious, V.G.L.4.N.T. is a play on "Vigilant" and stands for "Visual Guided Learning 4 Neutralizing Threats")</p>
<h1 id="current-state-of-packer-detection">Current State of Packer Detection</h1>
<p>Traditional packer detection approaches like DiE (Detect it Easy) and Yara rules depend on known signatures and patterns to identify packers. These tools scrutinize a file for specific indicators, like unique sequences of bytes or strings. While effective in many cases, they have drawbacks, like when a packer is modified or if the …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./adding-automation-to-blue-jupyter-malware-notebook.html">Adding Automation to Blue-Jupyter Malware Notebook</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2023-01-23T21:02:00+08:00">Mon 23 January 2023</time>
                    <span>•</span>
                    <a href="./category/malware.html">malware</a>
                </div>
                <div class="post-summary">
                    <p>I came across the <a href="https://github.com/mttaggart/blue-jupyter">Blue-Jupyter project on Github</a> while researching Jupyter notebooks. This <a href="https://www.youtube.com/watch?v=-EX5Ybbt8uE">short demo video</a> got me excited, so I cloned the project and added some improvements that automate many things when I am looking for malware to investigate.</p>
<h1 id="what-are-jupyter-notebooks">What are Jupyter Notebooks?</h1>
<p>For readers who may be unfamiliar, Jupyter Notebooks are a web-based tool that allows users to create and share documents that contain live code, equations, visualizations, and narrative text. They are a popular tool among data scientists and researchers but have also adapted for use in other fields, such as cybersecurity.</p>
<h1 id="my-additions-to-the-blue-jupyter">My Additions to the Blue-Jupyter</h1>
<p>Many of the changes I've made are focused on automating the process of quickly looking for interesting new samples to investigate.</p>
<p>One addition to the notebook is the automated downloading of samples from <a href="https://bazaar.abuse.ch/">Malware Bazaar</a>. This can download a maximum of 100 samples continuously. Additional information is listed to highlight …</p>
                </div>
            </li>
        </ul>
        <h2>2022</h2>
        <ul class="post-list">
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./malware-sandbox-evasion-in-x64-assembly-by-checking-ram-size-part-2.html">Malware sandbox evasion in x64 assembly by checking ram size - Part 2</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2022-08-15T11:29:00+08:00">Mon 15 August 2022</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <p>In the <a href="./malware-sandbox-evasion-in-x64-assembly-by-checking-ram-size-part-2.html">previous post</a>, I explored a sandbox evasion technique that uses <code>GetPhysicallyInstalledSystemMemory</code> to check the size of the RAM of the machine. The idea behind this technique (MBC Technique ID: <a href="https://github.com/MBCProject/mbc-markdown/blob/master/anti-behavioral-analysis/virtual-machine-detection.md">B0009.014</a>) is that any value that is lower than 4GB <em>may</em> probably be a sandbox (to reduce costs). This information can then be used with other sandbox evasion techniques to confirm.</p>
<p>For part 2 of this series, I'll be talking about an alternative Windows API function called <code>GlobalMemoryStatusEx</code>. This function is as straightforward as the first one, but requires the passing of a pointer to a C struct. This is significant because I'll be converting a working C code to x64 assembly so we can fully understand how it works under the hood.</p>
<h2 id="using-globalmemorystatusex">Using GlobalMemoryStatusEx</h2>
<p>Here is an example of an implementation of <code>GlobalMemoryStatusEx</code> in C that we'll later be converting to x64 assembly.</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include …</span></code></pre></div>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./malware-sandbox-evasion-in-x64-assembly-by-checking-ram-size-part-1.html">Malware sandbox evasion in x64 assembly by checking ram size - Part 1</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2022-08-08T11:29:00+08:00">Mon 08 August 2022</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <p>During my malware sandbox evasion research, I stumbled upon the <a href="https://unprotect.it/">Unprotect Project</a> website. It is a community-contributed repository of evasion techniques used by malware. I saw that the the <a href="https://unprotect.it/technique/checking-memory-size/">Checking Memory Size technique</a> doesn't have a example snippet yet so I figured this would be a good first contribution to the project.</p>
<p><img alt="malware-sandbox-evasion-in-x64-assembly-by-checking-ram-size-part-1-03" src="./images/malware-sandbox-evasion-in-x64-assembly-by-checking-ram-size-part-1-03.png" /></p>
<h2 id="what-to-expect">What to expect</h2>
<p>In this blog post I'll be making a code snippet that showcases how to get the size of a computer's RAM in C. I will then convert this code into x64 assembly, mostly for me to practice writing in it, but also so that we can understand it better.</p>
<h2 id="checking-the-memory">Checking the memory</h2>
<p>The idea behind this evasion technique is simple. Most modern user machines will have at least around 4GB of RAM. Anything lower than that can be an indication that the machine is probably a sandbox (To save costs). While it's not exactly fool-proof …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./talking-about-mitres-malware-behavior-catalog.html">Talking about Mitre's Malware Behavior Catalog</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2022-08-02T15:06:00+08:00">Tue 02 August 2022</time>
                    <span>•</span>
                    <a href="./category/malware.html">malware</a>
                </div>
                <div class="post-summary">
                    <p>I gave a 10-minute lightning talk at the recently concluded Blackhat Middle East &amp; Africa community meetup. The topic is about Mitre's Malware Behavior Catalog (MBC) framework and the existing tools for it. My reason for selecting this topic is because I feel that more people should know about Mitre's not-so-well-known project.</p>
<p><img alt="talking-about-mitres-malware-behavior-catalog-01" src="./images/talking-about-mitres-malware-behavior-catalog-01.png" /></p>
<h2 id="a-brief-overview">A brief overview</h2>
<p>MBC is a framework made by Mitre, similar to ATT&amp;CK, but focuses on malware. It lists down the common objectives and behaviors commonly seen in malware. The purpose is to have standardize reporting so that everyone would use the same definitions when writing and talking about malware. This also aids with analysis and correlation with other tools.</p>
<p>It has it's own matrix with malware objectives as headers for columns and an entry for each behavior. Each behavior then has a list of methods that explains how that behavior is achieved, example of malware that uses …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./string-av-evasion-in-x64-assembly-part-2.html">String anti-virus evasion in x64 assembly (Part 2)</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2022-07-09T12:11:00+08:00">Sat 09 July 2022</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <p>In <a href="string-av-evasion-in-x64-assembly-part-1">my last blog post</a>, I discussed a way to hide parameter strings from being detected by an anti-virus. The solution was simple and it worked. However, it was incomplete as strings of function calls and loaded DLLs were still detectable in memory.</p>
<p><img alt="string-anti-virus-evasion-in-x64-assembly-part-2-01" src="./images/string-anti-virus-evasion-in-x64-assembly-part-2-01.png" /></p>
<p>In this post I'll be talking about the other technique from the same <a href="https://blog.scrt.ch/2020/07/15/engineering-antivirus-evasion-part-ii/">blog post</a> we were following before. It does a good job of explaining the concept which I'll be covering here too. I will also be writing the code in assembly as an added bonus, so we can better understand what goes on under the hood.</p>
<h2 id="the-problem">The problem</h2>
<p>Let's revisit our code from the last time. We have two functions being called <code>ShellExecuteA</code> and <code>ExitProcess</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;windows.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;shellapi.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">ca_notepad</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="sc">&#39;n&#39;</span><span class="p">,</span><span class="sc">&#39;o&#39;</span><span class="p">,</span><span class="sc">&#39;t&#39;</span><span class="p">,</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="sc">&#39;p&#39;</span><span class="p">,</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="mi">0</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">ShellExecuteA</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;open&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ca_notepad</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">SW_SHOW</span><span class="p">);</span>

<span class="w">    </span><span class="n">ExitProcess</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>Upon compiling …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./string-av-evasion-in-x64-assembly-part-1.html">String anti-virus evasion in x64 assembly (Part 1)</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2022-07-08T12:11:00+08:00">Fri 08 July 2022</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <p>One of the features I implemented for my <a href="https://github.com/accidentalrebel/RATwurst">Remote Access Tool</a> was an anti-virus evasion capability in the form of strings obfuscation. It wouldn't fool an EDR or a reverse engineer but it was quick to implement so I added it. </p>
<p>This was over a year ago. I decided to revisit this feature to try and understand it better and find out if it is actually effective.</p>
<h2 id="what-to-expect">What to expect</h2>
<p>In this two-part blog post I will look into the following:</p>
<ul>
<li>Hiding argument strings</li>
<li>Hiding API call strings</li>
</ul>
<p>THe one you reading now is about the first one. I will be explaining how it's done in C and later convert it to x64 Windows Assembly so we can better understand what's happening under the hood.</p>
<h2 id="hiding-function-argument-strings">Hiding function argument strings</h2>
<p>I got the idea for this AV evasion technique from <a href="https://blog.scrt.ch/2020/06/19/engineering-antivirus-evasion/">this blog post</a>. The author posits that one part of an …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./converting-a-malware-dropper-to-x64-assembly.html">Converting a malware dropper to x64 assembly</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2022-07-03T09:18:00+08:00">Sun 03 July 2022</time>
                    <span>•</span>
                    <a href="./category/misc.html">misc</a>
                </div>
                <div class="post-summary">
                    <p>In this post I'll be listing down lessons I learned while converting a simple malware dropper written in C to x64 assembly. </p>
<p>I started this project as a way to deepen my understanding of assembly so I could be better in malware development and reverse engineering (And also because I love coding in assembly and would always find an excuse to use it).</p>
<h2 id="what-to-expect">What to expect</h2>
<p>I'll be going through sections of the C file and show the how it can be written accordingly in x64 Windows assembly. Take note, however, that the conversion is not one-to-one, meaning there are other ways of writing it. What I did was to structure the assembly code so that you can easily compare it with the C code while making sure that the end result will be the same.</p>
<p>I won't be covering the basics of assembly because <a href="https://sonictk.github.io/asm_tutorial/">this post</a> does a better …</p>
                </div>
            </li>
        </ul>
        <h2>2021</h2>
        <ul class="post-list">
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./cyber-corp-case-2-writeup-part-3.html">Cyber Corp Case 2 Writeup - Part 3</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-11-06T11:10:00+08:00">Sat 06 November 2021</time>
                    <span>•</span>
                    <a href="./category/threat-hunting.html">threat-hunting</a>
                </div>
                <div class="post-summary">
                    <p>The <a href="https://cyberdefenders.org/labs/75">second case of the CyberCorp challenge</a> on <a href="https://cyberdefenders.org/">CyberDefenders.org</a> is all about threat hunting. Created by <a href="https://twitter.com/BlackMatter23">@BlackMatter23</a> and his team, this challenge is based on a real-world attack so it is perfect for gaining practical experience in threat hunting.</p>
<p>This write-up is the third and final part of this walkthrough. You could read <a href="threat-hunting-from-home-cyber-corp-wmi-persistence">Part 1 here</a> and <a href="cyber-corp-case-2-writeup-part-2">Part 2 here</a>.</p>
<h2 id="finding-the-post-reverse-shell-activity">Finding the post-reverse shell activity</h2>
<blockquote>
<p>Question 11. As a result of running a malicious code, which we talk about in questions 9 and 10, the attacker got a shell on the compromised host. Using this access, the attacker downloaded the Active Directory collection utility to the host in an encoded form. Specify a comma-separated, non-spaced link where the encoded version of the utility was downloaded and a SHA256 hash of the decoded version that was directly run by the attacker on the compromised host.</p>
</blockquote>
<p>So from the question, I …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./cyber-corp-case-2-writeup-part-2.html">Cyber Corp Case 2 Writeup - Part 2</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-11-03T12:00:00+08:00">Wed 03 November 2021</time>
                    <span>•</span>
                    <a href="./category/threat-hunting.html">threat-hunting</a>
                </div>
                <div class="post-summary">
                    <p>The <a href="https://cyberdefenders.org/labs/75">second case of the CyberCorp challenge</a> on <a href="https://cyberdefenders.org/">CyberDefenders.org</a> is all about threat hunting. Created by <a href="https://twitter.com/BlackMatter23">@BlackMatter23</a> and his team, this challenge is based on a real-world attack so it is perfect for gaining practical experience in threat hunting.</p>
<p>This writeup is part 2 out of multiple parts. You could read <a href="threat-hunting-from-home-cyber-corp-wmi-persistence">Part 1 here</a> and <a href="cyber-corp-case-2-writeup-part-3">Part 3 here</a>.</p>
<h2 id="checking-dns-requests">Checking DNS Requests</h2>
<blockquote>
<p>Question 6. Specify the domain name of the resource from which the files mentioned in question 5 were supposedly downloaded as a result of malicious code execution.</p>
</blockquote>
<p>This one is easy. Using the same date range from the previous question, I changed the query to <code>event_type:DNSReq</code> (where "DNSReq" is short for "DNS Requests").</p>
<p><img alt="cyber-corp-case-2-writeup-part-2-01" src="./images/cyber-corp-case-2-writeup-part-2-01.png" /></p>
<p>We could easily see a DNS record being queried, which is our answer to this question.</p>
<h2 id="finding-the-encoded-executable-code">Finding the encoded executable code</h2>
<blockquote>
<p>Question 7. The first file downloaded (as a result of executing the code …</p></blockquote>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./threat-hunting-from-home-cyber-corp-wmi-persistence.html">Cyber Corp Case 2 Writeup - Part 1</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-10-30T12:00:00+08:00">Sat 30 October 2021</time>
                    <span>•</span>
                    <a href="./category/threat-hunting.html">threat-hunting</a>
                </div>
                <div class="post-summary">
                    <p>The <a href="https://cyberdefenders.org/labs/75">second case of the CyberCorp challenge</a> on <a href="https://cyberdefenders.org/">CyberDefenders.org</a> is all about threat hunting. Created by <a href="https://twitter.com/BlackMatter23">@BlackMatter23</a> and his team, this challenge is based on a real-world attack so it is perfect for gaining practical experience in threat hunting.</p>
<p>This writeup is part one out of multiple parts as I will be detailing my thought process and the steps I took for each question.</p>
<p>Edit: <a href="cyber-corp-case-2-writeup-part-2">Part 2</a> and <a href="cyber-corp-case-2-writeup-part-3">Part 3</a> is now out.</p>
<h2 id="understanding-wmi-persistence">Understanding WMI Persistence</h2>
<blockquote>
<p>Question 1. The Threat Hunting process usually starts with the analyst making a hypothesis about a possible compromise vector or techniques used by an attacker. In this scenario, your initial hypothesis is as follows: "The attacker used the WMI subscription mechanism to obtain persistence within the infrastructure". Verify this hypothesis and find the name of the WMI Event Consumer used by the attacker to maintain his foothold.</p>
</blockquote>
<p>So the question tells us that …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./new-tool-preview-vattack.html">New Tool Preview: vATT&CK</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-10-18T20:33:00+08:00">Mon 18 October 2021</time>
                    <span>•</span>
                    <a href="./category/tools.html">tools</a>
                </div>
                <div class="post-summary">
                    <p>I have released a new cybersecurity-related tool called <a href="https://github.com/accidentalrebel/vATTACK">vATT&amp;CK (Visual ATT&amp;CK)</a>. It is a relationship visualizer for the Mitre ATT&amp;CK framework.</p>
<p><img alt="new-tool-preview-vattack-01" src="./images/new-tool-preview-vattack-01.png" /></p>
<p>What the tool does is that it makes a visual map of the searched technique and all the related information. You can watch a video of the tool in action <a href="https://www.youtube.com/watch?v=xCc7aAqbSNI">here</a>.</p>
<p>Each node will be colored depending on it's category. The color legends is as follows:</p>
<ul>
<li>Pink - Related subtechniques</li>
<li>Orange - Malware that uses the searched technique</li>
<li>Red - Groups that uses the searched technique</li>
<li>Blue - Tools that use the searched technique</li>
<li>Yellow - Mitigations</li>
</ul>
<p>This tool is still in development. I plan to add a number of improvements such as:</p>
<ul>
<li>Ability to click on nodes and then update the visual map</li>
<li>Ability to search not just by technique, but also by other categories</li>
</ul>
<p>I also plan on releasing a live demo of the tool very soon in the …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./ioli-crackme-0x04.html">IOLI Crackme 0x04</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-09-29T10:34:00+08:00">Wed 29 September 2021</time>
                    <span>•</span>
                    <a href="./category/re.html">re</a>
                </div>
                <div class="post-summary">
                    <p>I am continuing my reverse engineering review by tackling the <em>IOLI crackmes</em> by <a href="https://twitter.com/pof">@pof</a>. These are beginner friendly challenges that is perfect for newbies or for those who want to review the basics like me. Check out my writeups for <a href="./ioli-crackme-0x00.html">0x00</a>, <a href="./ioli-crackme-0x01.html">0x01</a>, <a href="./ioli-crackme-0x02.html">0x02</a>, and <a href="./ioli-crackme-0x03.html">0x03</a>.</p>
<h1 id="getting-the-password">Getting the password</h1>
<p>Loading the program in IDA revealed something new. There is now a <code>_check</code> function that when opened looks more complicated than the previous challenges.</p>
<p><img alt="ioli-crackme-0x04-01" src="./images/ioli-crackme-0x04-01.png" /></p>
<p>The one thing that I immediately noticed is the call to the <code>_strlen</code> function similar to the previous challenge. This means that the length of the input string plays another important role.</p>
<p>One curious thing is the condition that leads to the "Password Incorrect" block, as shown below.</p>
<p><img alt="ioli-crackme-0x04-02" src="./images/ioli-crackme-0x04-02.png" /></p>
<div class="codehilite"><pre><span></span><code><span class="nf">call</span><span class="w"> </span><span class="no">_strlen</span>
<span class="nf">cmp</span><span class="w"> </span><span class="p">[</span><span class="no">ebp</span><span class="err">+</span><span class="no">var_C</span><span class="p">],</span><span class="w"> </span><span class="no">eax</span>
<span class="nf">jnb</span><span class="w"> </span><span class="no">short</span><span class="w"> </span><span class="no">loc_401387</span>
</code></pre></div>

<p>From the looks of it, the check will fail if <code>var_C</code> (Which is our <code>var_counter</code> from the previous challenge) reaches the …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./building-my-virtual-cybersecurity-home-lab.html">Building my Virtual Cybersecurity Home Lab</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-09-05T20:33:00+08:00">Sun 05 September 2021</time>
                    <span>•</span>
                    <a href="./category/malware.html">malware</a>
                </div>
                <div class="post-summary">
                    <p>I have recently realized that one part of cybersecurity that I am lacking basic knowledge on is networking. I honestly did not think it was important when I was starting. It was the reason why I skipped Network+ so I could take Security+ directly. </p>
<p>Now I know better.</p>
<p>Ever since my realization, I have taken steps to patch the holes in my knowledge. I've started taking courses and bought books. But one thing that has made the most impact is me building my very own "homelab".</p>
<p>I first came to know of the concept of homelabs <a href="https://www.reddit.com/r/homelab/">from Reddit</a>. To those unfamiliar, it is the practice of building a networked environment to gain practical knowledge in networking and IT. One way to do this is by making a virtual network.</p>
<p>And so, over the past month, I have been building my very own virtual homelab with a focus on integrating cybersecurity …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./making-a-rat.html">Making a RAT</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-07-13T14:56:00+08:00">Tue 13 July 2021</time>
                    <span>•</span>
                    <a href="./category/malware.html">malware</a>
                </div>
                <div class="post-summary">
                    <p>A Remote Access Tool (RAT) is used to remotely access a computer. It has legitimate uses but it can also be used for malicious purposes. I've seen it used in malware I've analyzed and I've always been curious as to how it works.</p>
<p>I was following along the <a href="https://handmadehero.org/">Handmade Hero project</a> <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> when the topic about dynamic DLL loading came up. This is a process of dynamically loading a DLL at runtime which is useful if you want your program to check if a DLL is present in a system before loading it.</p>
<p>Two of the system calls that were discussed were LoadLibrary and GetProcAddress. These were familiar to me as I've seen them used on malware shellcode I analyzed in the past. I later learned that this is also used as an anti-virus evasion technique. I found this interesting.</p>
<p>Having learned how to do runtime DLL loading myself I …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./finding-phished-passwords-on-a-scam-site.html">Finding phished passwords on a scam site</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-05-01T20:56:00+08:00">Sat 01 May 2021</time>
                    <span>•</span>
                    <a href="./category/phishing-threat-hunting-osint.html">phishing, threat-hunting, osint</a>
                </div>
                <div class="post-summary">
                    <p>Since my last post about <a href="investigating-an-fb-phishing-site">my investigations of a Facebook phishing site</a>, I have received several messages from friends asking me to check out other suspected phishing/scam sites. One of the most alarming out of them was this one where I was able to find the file where the scammer stores the phished usernames and passwords.</p>
<p><img alt="finding-phished-passwords-from-a-scam-site-01" src="./images/finding-phished-passwords-from-a-scam-site-01.png" /></p>
<p>This particular phishing site conducts its operations like this:</p>
<ul>
<li>An ad is shown on Facebook, promising free coupons for famous fast food restaurants</li>
<li>Clicking on the ad takes the user to a fake Facebook login page hosted on <em>blogger.com</em></li>
<li>Login page then sends phished username and passwords to a PHP file hosted on <em>000webhost</em></li>
</ul>
<p>The phished passwords are then stored in a <code>.txt</code> file (blatantly named, <code>victims.txt</code>), which is publicly accessible on an open directory. Getting to this directory involved following the scripts and the URLs used by the scammers. It's …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./emprisa-maldoc-writeup..html">Emprisa Maldoc Writeup</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-04-30T05:58:00+08:00">Fri 30 April 2021</time>
                    <span>•</span>
                    <a href="./category/maldoc-writeup-ctf.html">maldoc, writeup, ctf</a>
                </div>
                <div class="post-summary">
                    <blockquote>
<p>This is a writeup for <a href="the-emprisa-maldoc-challenge">Emprisa maldoc challenge</a> that I made for <a href="https://cyberdefenders.org/">CyberDefenders.org</a>. You can play it <a href="https://cyberdefenders.org/labs/56">here</a>.</p>
</blockquote>
<p>The very first thing that I do when confronted with a malicious document is to run it in a malware lab. This particular document, however, would not exhibit anything malicious on recent versions of Word.</p>
<p>A quick search of the hash on malware sandboxes would reveal that the document makes use of the <a href="https://nvd.nist.gov/vuln/detail/CVE-2017-18822">CVE-2017-18822 vulnerability</a>. This is a vulnerability that became known and was promptly patched around November of 2017.</p>
<p>The above details give us a hint on how to trigger the document, which is to run the maldoc on a version of Microsoft Word that doesn't have the patches that fix the vulnerability. The easiest way to do this is to boot up a new VM with a fresh install of Windows 7 and with updates disabled.</p>
<p>This new environment …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./investigating-an-fb-phishing-site.html">Investigating an FB phishing site</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-04-24T05:58:00+08:00">Sat 24 April 2021</time>
                    <span>•</span>
                    <a href="./category/phishing-threat-hunting-osint.html">phishing, threat-hunting, osint</a>
                </div>
                <div class="post-summary">
                    <p>Last April 21, people were posting warnings about a suspicious Facebook post where your account will supposedly get hacked when you click it. From the discussions, I gathered that it is a classic phishing site scam. A very effective one too, because as soon as an account gets compromised the attacker logs in and tags the friends in the account allowing it to spread further. The news of this got big that even the PH CERT issued <a href="https://www.facebook.com/Ncertgovph/posts/1879686332199270">a security advisory on it</a>.</p>
<p><img alt="checking-the-fb-phishing-site-02" src="./images/checking-the-fb-phishing-site-02.jpg" /></p>
<h1 id="i-was-just-curious-i-swear">I was just curious, I swear!</h1>
<p>I wanted to see the phishing site for myself but I was unlucky and did not get tagged by anyone. So I reached out to people who did and I eventually got to this page shown below:</p>
<p><img alt="checking-the-fb-phishing-site-01" src="./images/checking-the-fb-phishing-site-01.png" /></p>
<p>To a trained eye, one could easily see the obvious red flags. But how can one notice them if there is a very attention-catching image …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./the-emprisa-maldoc-challenge.html">The Emprisa Maldoc Challenge</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-04-04T16:37:00+08:00">Sun 04 April 2021</time>
                    <span>•</span>
                    <a href="./category/ctf.html">ctf</a>
                </div>
                <div class="post-summary">
                    <p>I was inspired to make my own CTF challenge after finishing <a href="{filename}/maldoc101-writeup-part-1">Maldoc101</a> found at <a href="https://cyberdefenders.org/">Cyberdefenders.org</a>. The challenge I made is called <a href="https://cyberdefenders.org/labs/56">Emprisa Maldoc</a> and it is now up on their website. </p>
<p>Emprisa is based on a malicious document that I downloaded blindly from a malware sandbox. It used a relatively old but still interesting exploit that is still in use today. After researching more about it I came across a tool that can generate a malicious doc using the same exact exploit. This is when I got the idea to turn it into a challenge.</p>
<p><img alt="the-emprisa-maldoc-challenge-01" src="./images/the-emprisa-maldoc-challenge-01.png" /></p>
<p>The challenge has 14 questions with increasing and varying difficulty. The challenge is targeted towards intermediate analysts who already have experience examining maldocs before. The goal is to reinforce the use of common malware analysis tools, but at the same time, teach players new things and techniques. It involves flexing muscles related to open …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./ioli-crackme-0x03.html">IOLI Crackme 0x03</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-03-22T20:03:00+08:00">Mon 22 March 2021</time>
                    <span>•</span>
                    <a href="./category/re.html">re</a>
                </div>
                <div class="post-summary">
                    <p>I am continuing my reverse engineering review by tackling the <em>IOLI crackmes</em> by <a href="https://twitter.com/pof">@pof</a>. These are beginner friendly challenges that is perfect for newbies or for those who want to review the basics like me. Check out my writeups for <a href="./ioli-crackme-0x00.html">0x00</a>, <a href="./ioli-crackme-0x01.html">0x01</a>, and <a href="./ioli-crackme-0x02.html">0x02</a>.</p>
<h1 id="getting-the-password">Getting the password</h1>
<p>After opening the program in IDA I immediately saw that the code is almost exactly as the one in challenge <a href="./ioli-crackme-0x02.html">0x02</a>, with the exception of our expected <code>cmp</code> command being inside the <code>_test</code> function.</p>
<p><img alt="ioli-crackme-0x03-01" src="./images/ioli-crackme-0x03-01.png" /></p>
<p>Reading through the code I realized that the password for this challenge is exactly the same as the previous one!</p>
<p>But what's this? The success and failure messages are all garbled? And plus, what is this other new function called <code>_shift</code>?</p>
<p><img alt="ioli-crackme-0x03-02" src="./images/ioli-crackme-0x03-02.png" /></p>
<h1 id="a-different-kind-of-challenge">A different kind of challenge</h1>
<p>Opening up the <code>_shift</code> function shows us a short, but interesting looking program flow with two branches and one of the branches looping …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./maldoc101-writeup-part-1.html">Maldoc101 Writeup (Part 1)</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-03-13T08:34:00+08:00">Sat 13 March 2021</time>
                    <span>•</span>
                    <a href="./category/malware_analysis.html">malware_analysis</a>
                </div>
                <div class="post-summary">
                    <p>This is part 1 out of 2 of my writeup for the Maldoc101 challenge made by Josh Stroschein (<a href="https://twitter.com/jstrosch">@jstrosch</a>) and is currently playable at <a href="https://cyberdefenders.org/labs/51">Cyberdefenders.Org</a>. I've done some maldoc analysis before but this is the first time I'm writing about my approach.</p>
<p>There is also an already existing writeup about this challenge <a href="https://github.com/jstrosch/malware-samples/blob/master/malware_analysis_exercises/2020/December/solution.md">from the creator himself</a>. You should check that out if you want a more detailed and focused writeup. This writeup is more from the perspective of someone relatively new to malware analysis. There's a lot more exploration and trial-and-error which, I hope, might give the reader a different view in how this kind of problem is approached.</p>
<h2 id="the-challenge">The challenge</h2>
<h3 id="name">Name</h3>
<p><a href="https://cyberdefenders.org/labs/51">MalDoc101 - Malicious Document</a></p>
<h3 id="description">Description</h3>
<p>It is common for threat actors to utilize living off the land (LOTL) techniques, such as the execution of PowerShell to further their attacks and transition from macro code. This challenge is intended …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./ioli-crackme-0x02.html">IOLI Crackme 0x02</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-03-06T10:34:00+08:00">Sat 06 March 2021</time>
                    <span>•</span>
                    <a href="./category/re.html">re</a>
                </div>
                <div class="post-summary">
                    <p>I am continuing my reverse engineering review by tackling the <em>IOLI crackmes</em> by <a href="https://twitter.com/pof">@pof</a>. These are beginner friendly challenges that is perfect for newbies or for those who want to review the basics like me. Check out my writeups for <a href="./ioli-crackme-0x00.html">0x00</a> and <a href="./ioli-crackme-0x01.html">0x01</a>.</p>
<h1 id="getting-the-password">Getting the password</h1>
<p>After the first two challenges I kinda know what to expect already so I skipped running the program and immediately loaded it in IDA.</p>
<p><img alt="ioli-crackme-0x02-01" src="./images/ioli-crackme-0x02-01.png" /></p>
<p>So the lines leading to the comparison command now looks more complicated than before. We could easily see that there are some computations that happens thanks to the presence of <code>add</code> and <code>imul</code>. Before those, we have two values (<code>5Ah</code> and <code>1ECh</code>) which we can easily guess are the values that will be worked on by these arithmetic functions.</p>
<p>So going through the lines sequentially we can see that the two numbers are first added with <code>add [eax], edx</code>. Which …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./introducing-shcode2exe.html">Introducing shcode2exe</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-02-26T07:34:00+08:00">Fri 26 February 2021</time>
                    <span>•</span>
                    <a href="./category/tools.html">tools</a>
                </div>
                <div class="post-summary">
                    <p><strong>[Edit: shcode2exe is <a href="https://docs.remnux.org/discover-the-tools/dynamically+reverse-engineer+code/shellcode#shcode-2-exe">now part of Remnux</a>]</strong></p>
<p>I've been playing around with <a href="https://remnux.org/">Remnux</a> and encountered a problem trying to get one of the tools to run properly. The tool is <a href="https://github.com/repnz/shellcode2exe">shellcode2exe</a>, it is used to compile binary shellcode to a file so it can easily be debugged by a debugger.</p>
<p>When I checked out the code, I was surprised to find out how simple it is. Basically, what happens is that the inputted shellcode is added to a barebones assembly file using the <code>incbin</code> assembly instruction. From there, the file is then automatically compiled and linked.</p>
<p>One big problem with the tool is that it needs to use <a href="https://www.winehq.org/">Wine</a> if it needs to run on Linux. I don't want such a huge dependency especially for my own malware analysis lab so I decided to write my own version which have led to the creation of <code>shcode2exe</code>.</p>
<h2 id="shcode2exe">shcode2exe</h2>
<p>While similar in …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./ioli-crackme-0x01.html">IOLI Crackme 0x01</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-02-20T17:34:00+08:00">Sat 20 February 2021</time>
                    <span>•</span>
                    <a href="./category/re.html">re</a>
                </div>
                <div class="post-summary">
                    <p>I am continuing my reverse engineering review by tackling the <em>IOLI crackmes</em> by <a href="https://twitter.com/pof">@pof</a>. These are beginner friendly challenges that is perfect for newbies or for those who want to review the basics like me. Check out my writeup for 0x00 <a href="./ioli-crackme-0x00.html">here</a>.</p>
<h1 id="getting-the-password">Getting the password</h1>
<p>Of course, the first thing we do is run the program.</p>
<p><img alt="ioli-crackme-0x01-01" src="./images/ioli-crackme-0x01-01.png" /></p>
<p>Just like last time, we opened up the program in IDA and focused on the part of the code that does the comparing of passwords.</p>
<p><img alt="ioli-crackme-0x01-02" src="./images/ioli-crackme-0x01-02.png" /></p>
<div class="codehilite"><pre><span></span><code><span class="nf">cmp</span><span class="w"> </span><span class="p">[</span><span class="no">ebp</span><span class="err">+</span><span class="no">var_4</span><span class="p">],</span><span class="w"> </span><span class="mi">149</span><span class="no">Ah</span>
<span class="nf">jz</span><span class="w"> </span><span class="no">short</span><span class="w"> </span><span class="no">loc_40137c</span>
</code></pre></div>

<p>This seems easy enough. </p>
<p>Initially I entered <code>149A</code> as the password but this turned out to be incorrect. The reason for this is because <code>scanf</code> was passed a format of <em>"%d"</em>.</p>
<div class="codehilite"><pre><span></span><code><span class="nf">mov</span><span class="w"> </span><span class="p">[</span><span class="no">esp</span><span class="err">+</span><span class="mi">18</span><span class="no">h</span><span class="err">+</span><span class="no">Format</span><span class="p">],</span><span class="w"> </span><span class="no">offset</span><span class="w"> </span><span class="no">aD</span><span class="w"> </span><span class="c1">; &quot;%d&quot;</span>
<span class="nf">call</span><span class="w"> </span><span class="no">_scanf</span>
</code></pre></div>

<p>This means that the input it expects is actually a decimal integer. So converting <code>149A</code> to decimal results in <code>5274 …</code></p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./ioli-crackme-0x00.html">IOLI Crackme 0x00</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2021-02-16T21:55:00+08:00">Tue 16 February 2021</time>
                    <span>•</span>
                    <a href="./category/re.html">re</a>
                </div>
                <div class="post-summary">
                    <p>I am re-familiarizing myself with reverse engineering again by going through some simple crackme challenges. This one is called the IOLI Crackmes by pof. The goal is to find the correct password and also to patch it so that it can accept any input and still show that it's correct.</p>
<h2 id="getting-the-password">Getting the password</h2>
<p>Running the program shows a password prompt. </p>
<p><img alt="ioli-crackme-0x00-03" src="./images/ioli-crackme-0x00-03.png" /></p>
<p>Of course, randomly entering passwords is going to be a waste of time so I opened up IDA to look at its code.</p>
<p>I knew that whatever password I enter in the program would be checked against the actual password. This is the part of the program that I should focus on so I scanned the code and found this:</p>
<p><img alt="ioli-crackme-0x00-02" src="./images/ioli-crackme-0x00-02.png" /></p>
<div class="codehilite"><pre><span></span><code><span class="nf">mov</span><span class="w"> </span><span class="p">[</span><span class="no">esp</span><span class="err">+</span><span class="mi">38</span><span class="no">h</span><span class="err">+</span><span class="no">Str2</span><span class="p">],</span><span class="w"> </span><span class="no">offset</span><span class="w"> </span><span class="no">Str2</span><span class="c1">; &quot;250382&quot;</span>
<span class="nf">mov</span><span class="w"> </span><span class="p">[</span><span class="no">esp</span><span class="err">+</span><span class="mi">38</span><span class="no">h</span><span class="err">+</span><span class="no">Format</span><span class="p">],</span><span class="w"> </span><span class="no">eax</span><span class="c1">; </span>
<span class="nf">call</span><span class="w"> </span><span class="no">_strcmp</span>
</code></pre></div>

<p>And just from these few lines alone I already knew what the password is …</p>
                </div>
            </li>
        </ul>
        <h2>2020</h2>
        <ul class="post-list">
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./hunt-the-kingdom-ctf-challenge.html">Hunt the Kingdom CTF Challenge</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-10-05T11:13:00+08:00">Mon 05 October 2020</time>
                    <span>•</span>
                    <a href="./category/ctf.html">ctf</a>
                </div>
                <div class="post-summary">
                    <blockquote>
<p>TLDR: Participated in a blue team CTF, had a lot of fun, looking forward for more</p>
</blockquote>
<p>Yesterday I participated in the <a href="https://www.facebook.com/guidemtraining">GuideM "Hunt the Kingdom" CTF challenge</a>. It served as the final activity at the end of the <em>"Cyber Defense and Threat Hunting"</em> course.</p>
<p>I was looking forward to this CTF, especially after my awesome experience with the <a href="./covidscammers-writeup--defcon-rtv-ctf.html">Red Team Village CTF at Defcon</a>. This one is centered on the Blue Team side, and I was curious as to how it will play out.</p>
<h2 id="the-preparation">The Preparation</h2>
<p>I took one whole day to study and prepare. I went through all our slides and have written down the important concepts and commands to an org file. This is important because I wanted them to be easily searchable, which helped a lot during the challenge.</p>
<p>I also did research about the Hunt the Kingdom challenge itself. There weren't much information online about it …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./my-experience-manufacturing-printed-circuit-boards.html">My experience with manufacturing printed circuit boards</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-10-01T07:19:00+08:00">Thu 01 October 2020</time>
                    <span>•</span>
                    <a href="./category/electronics.html">electronics</a>
                </div>
                <div class="post-summary">
                    <p>I've done a lot of electronics projects already, all of them were painstakingly hand-soldered on a perfboard. I actually like this approach for quick prototyping, and plus, I've also grown fond of how "raw" it looks like. In spite of this, I've always been curious and interested in having my own printed PCB. I remember designing one for my <a href="https://hackaday.io/project/164144-tiro-vibrating-watch/log/161430-current-state-and-next-steps">TIRO vibrating watch</a> but I never pushed through with it because I wasn't confident with what I've made.</p>
<p><img alt="my-experience-manufacturing-printed-circuit-boards-01" src="./images/my-experience-manufacturing-printed-circuit-boards-01.jpg" /></p>
<div class="codehilite"><pre><span></span><code>I really like the raw, almost electronic-punk look of my work
</code></pre></div>

<p>A couple of months ago I got an email from <a href="https://www.pcbway.com/">PCBWay</a> asking if I was interested in trying out their PCB manufacturing service. The email from PCBWay re-ignited this interest in having a PCB made. The problem is I didn't have a PCB design that I built myself that I knew was going to work. My best option was the "ESPBoy project …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./covidscammers-writeup--defcon-rtv-ctf.html">CovidScammers writeup (Defcon RTV CTF)</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-08-13T16:58:00+08:00">Thu 13 August 2020</time>
                    <span>•</span>
                    <a href="./category/ctf.html">ctf</a>
                </div>
                <div class="post-summary">
                    <p>I joined the <a href="https://ctf.threatsims.com">Defcon Red Team Village CTF</a> because I was curious about it and I wanted to test out the skills that I have gained playing with CTF sites like <a href="https://overthewire.org/wargames/">overthewire.org</a> and <a href="https://www.vulnhub.com/">vulnhub</a>. I knew that the challenges won't be easy, but thankfully, I was able to join up with other newbies who were willing to give it a go and learn with each other.</p>
<p>Unfortunately, I fell asleep just before the CTF started and when I woke up all the easy challenges were already solved by my team members. There was one easy challenge that was still open on the CovidScammers category, so I quickly got started to solving that.</p>
<h2 id="free-flag-and-binary-1-point">Free Flag (and binary) [1 point]</h2>
<blockquote>
<p>You've been contacted by a high-end but morally ambiguous finance company (unhackable-bitcoin-wallet.com) to investigate a data breach. The box in question is a mail server in their internal network, a …</p></blockquote>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./study-notes--mac-spoofing.html">Study notes: MAC Spoofing</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-08-01T11:07:00+08:00">Sat 01 August 2020</time>
                    <span>•</span>
                    <a href="./category/cybersecurity.html">cybersecurity</a>
                </div>
                <div class="post-summary">
                    <div class="codehilite"><pre><span></span><code>Study notes are my personal research notes on certain topics that interests me.
</code></pre></div>

<p>Any network capable device has a unique factory-assigned Media Access Control (MAC) address. Users have no way to change the MAC address but it can be done. However, it is possible to mask the MAC address and have it show a different value. This is called MAC spoofing.</p>
<p>There are legitimate uses for MAC spoofing. For example, there may be certain applications that require a particular MAC address to work, or maybe your ISP expects a certain MAC address to connect to the network. MAC spoofing is largely used for illegitimate uses, like circumventing an access control list or getting past a filter on a wireless network.</p>
<h2 id="changing-mac-address-via-ifconfig">Changing MAC Address via ifconfig</h2>
<p>In Linux we could use <code>ifconfig</code> to change the MAC address.</p>
<p>To view the current MAC address:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>ifconfig
</code></pre></div>

<p>The current MAC address is <code>08:00 …</code></p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./chicken-scheme-ffi-examples.html">Chicken-Scheme FFI Examples</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-06-16T05:58:00+08:00">Tue 16 June 2020</time>
                    <span>•</span>
                    <a href="./category/dev.html">dev</a>
                </div>
                <div class="post-summary">
                    <p>I'm currently working on refactoring the FFI implementation for <a href="https://github.com/accidentalrebel/rebel-game-engine">the Rebel Game Engine</a>. It was previously written using the <a href="http://wiki.call-cc.org/eggref/5/bind">Bind chicken egg</a> but I wanted to have more control over the implementation by using the low level foreign functions. </p>
<p>To help me better understand I made some examples that has the basic FFI implementations that I'll be needing for my project.</p>
<hr />
<h2 id="foreign-lambda-example">foreign-lambda example</h2>
<p>Let's say we have a structure <code>Vec3</code> and a function <code>Vec3Create</code> that we want to access from chicken-scheme.</p>
<div class="codehilite"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Vec3</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Vec3</span><span class="p">;</span>

<span class="n">Vec3</span><span class="o">*</span><span class="w"> </span><span class="nf">Vec3Create</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Vec3</span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Vec3</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Vec3</span><span class="p">));</span>
<span class="w">    </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="n">v</span><span class="o">-&gt;</span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">z</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>We could use <a href="https://wiki.call-cc.org/man/5/Module%20(chicken%20foreign)#foreign-lambda"><code>foreign-lambda</code></a> to bind to the function:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nv">vec3_create</span>
<span class="w">  </span><span class="p">(</span><span class="nf">foreign-lambda</span>
<span class="w">    </span><span class="p">(</span><span class="nf">c-pointer</span><span class="w"> </span><span class="p">(</span><span class="nf">struct</span><span class="w"> </span><span class="s">&quot;Vec3&quot;</span><span class="p">))</span><span class="w">   </span><span class="c1">; Return type, a pointer to a struct object of Vec3</span>
<span class="w">    </span><span class="s">&quot;Vec3Create&quot;</span><span class="w">                  </span><span class="c1">; Name fo the function</span>
<span class="w">    </span><span class="nv">float</span><span class="w"> </span><span class="nv">float</span><span class="w"> </span><span class="nv">float</span><span class="p">))</span><span class="w">           </span><span class="c1">; The …</span></code></pre></div>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./switching-from-c-c---to-c.html">#5 - Switching from C/C++ to C</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-05-19T17:59:00+08:00">Tue 19 May 2020</time>
                    <span>•</span>
                    <a href="./category/game_engine.html">game_engine</a>
                </div>
                <div class="post-summary">
                    <p>After the recent changes to the <a href="./following-lispy-conventions.html">lisp side of my engine</a>, I took some time to review the C/C++ side. You'll notice that I have written C/C++ and that's because my codebase uses both of them. </p>
<p>When I started my project, I initially intended for it to use just pure C, as this is the one I'm more familiar with. But over time some C++ features crept in. Features like namespacess, bools, and function overloading proved to be useful so I kept using them. Now my code uses C concepts with new nifty C++ features.</p>
<p>Now, I could have just continued with this approach. It works, after all. But I wondered if I should just stick to C and drop C++ altogether. My thinking is that sticking with just one language would make the code simpler as I only have to use it's subset of features. I know …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./following-lispy-conventions.html">#4 - Following Lispy conventions</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-05-15T07:00:00+08:00">Fri 15 May 2020</time>
                    <span>•</span>
                    <a href="./category/game_engine.html">game_engine</a>
                </div>
                <div class="post-summary">
                    <p><img alt="following-lispy-conventions-01" src="./images/following-lispy-conventions-01.png" /></p>
<p>I was adding new Lisp functions to <a href="https://github.com/accidentalrebel/Rebel-Game-Engine">my game engine</a> when I noticed that I had functions that had a naming scheme that were inconsistent with others. For example, I had ones that create objects like <em>sprite_create</em> and <em>shader_create</em> but this one function I named <em>make_vec3</em>. I proceeded to rename <em>make_vec3</em> to <em>vec3_create</em>. Not only is it consistent with other names but it made me realize that having a pattern of object_verb makes it easy to parse the function and what it does. </p>
<p>This made me wonder if there are other ways I could improve which led me to this page <a href="http://community.schemewiki.org/?variable-naming-convention">about variable naming conventions</a> for Scheme. I learned that the language employs a rather effective yet simple naming convention for functions and variables. I've noticed them before but never really thought about their usefulness. </p>
<p>For example, adding a <em>?</em> prefix easily indicates that the function, when called, will always return …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./rebel-game-engine-now-works-on-different-platforms.html">#3 - Rebel Game Engine now works on different platforms</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-05-10T07:08:00+08:00">Sun 10 May 2020</time>
                    <span>•</span>
                    <a href="./category/dev.html">dev</a>
                </div>
                <div class="post-summary">
                    <p>After <a href="implemented-basic-scheme-scripting-for-rebel-game-engine.md">finishing the integration</a> of Chicken-scheme scripting for <a href="https://github.com/accidentalrebel/Rebel-Game-Engine">my custom game engine</a> I decided I wanted to tackle another hard problem, and that is making it cross-platform. At the very least, my engine should be able to deploy to Linux, Windows, and MacOSX.</p>
<p><img alt="rebel-game-engine-now-works-on-different-platforms-01" src="./images/rebel-game-engine-now-works-on-different-platforms-01.jpg" /></p>
<p>It might seem silly to be working on this while the engine is still in its early stages, but I think it is better to get this out of the way before the codebase becomes huge. With a small codebase I was able to easily identify the causes of the problems as I was porting them.</p>
<p>It still wasn't a walk in the park, however. Being inexperienced with developing C programs on other platforms (I've only done it mostly in Linux) I had to do research and do a lot of trial and error. I learned so much about cross-compilers, portable makefiles, and the quirks of different …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./implemented-basic-scheme-scripting-for-rebel-game-engine.html">#2 - Implemented basic Scheme scripting for Rebel Game Engine</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-05-07T21:35:00+08:00">Thu 07 May 2020</time>
                    <span>•</span>
                    <a href="./category/lisp.html">lisp</a>
                </div>
                <div class="post-summary">
                    <p>When I first learned about <a href="http://synthcode.com/wiki/chibi-scheme">Chibi</a>, an embeddable scheme that allows scripting on C programs, I immediately tried it out on my game engine. I was able to make it work with my existing APIs but I kept on running against segfaults and memory issues. The community was helpful in answering my questions as I tried to track down the cause of the bug, but I eventually gave up out of frustration.</p>
<p>I then learned about <a href="http://wiki.call-cc.org/eggref/5/bind">Chicken Scheme</a>, a somewhat competitor to Chibi that does the same thing but with a larger community and more documentation. I checked it out and liked it so I went ahead and implemented it.</p>
<p><img alt="implemented-basic-scheme-scripting-for-rebel-game-engine-01" src="./images/implemented-basic-scheme-scripting-for-rebel-game-engine-01.png" /></p>
<p>Thankfully I have not experienced any segfaults anymore. It's not because Chicken is better (I don't know well enough of the two to make a good comparison) but because I've come to better understand how to properly structure my code …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./thinking-of-adding-lisp-to-my-custom-game-engine.html">#1 - Thinking of adding Lisp to my custom game engine</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-05-03T11:19:00+08:00">Sun 03 May 2020</time>
                    <span>•</span>
                    <a href="./category/engine.html">engine</a>
                </div>
                <div class="post-summary">
                    <p>I've long wondered if I should add a scripting language to <a href="https://github.com/accidentalrebel/Rebel-Game-Engine">my game engine</a>. I know that most game engines could do without such a feature but I just recently came across <a href="https://github.com/ashinn/chibi-scheme">Chibi-Scheme</a>, a library that allows the use of Scheme lisp scripting for C programs. </p>
<p>I like Lisp. I use it a lot when customizing my Emacs environment (<a href="https://github.com/accidentalrebel?tab=repositories&amp;q=&amp;type=&amp;language=emacs+lisp">using ELisp</a>). There's something about it's syntax and different way to structure programs that appeals to my programmer brain. I've toyed with other Lisp flavors but never had a strong enough reason to continue using them. With Chibi-scheme I may have found that reason.</p>
<p><img alt="thinking-of-adding-lisp-to-my-custom-game-engine-01" src="./images/thinking-of-adding-lisp-to-my-custom-game-engine-01.jpg" /></p>
<p>I am aware that Lisp is not as widespread as Lua or Javascript. And that choosing it might limit the number of potential people to try out my game engine. But as I've been telling myself over and over, this is a self-learning project. So it's okay …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./making-unity-beep-after-scripts-finish-reloading.html">Making Unity beep after scripts finish reloading</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2020-05-01T17:07:00+08:00">Fri 01 May 2020</time>
                    <span>•</span>
                    <a href="./category/dev.html">dev</a>
                </div>
                <div class="post-summary">
                    <p>Our latest game, HistoHunters, has grown into a really big project that compilation now takes a really long time. Longer than no sane programmer wants it to be. It has gotten so bad that changing a single file would take about a minute for recompilation! </p>
<p>Thankfully, I have managed to shorten this wait time through the use of <a href="https://coffeebraingames.wordpress.com/2018/01/21/reducing-compile-time-in-unity-using-assembly-definition-files/">assembly definitions</a>. If you have a big Unity project and compile times are slow, this is the solution to that. Just for kicks I also purchased an SSD and that also helped reduce compile times (Not much as the assembly definitions though).</p>
<p>However, in spite of these changes compiling still takes a few seconds to reload scripts. This seems to be the lowest it could go. While this is definitely better, I can't help but feel that the seconds spent waiting is wasted.</p>
<p><img alt="making-unity-beep-after-scripts-finish-reloading-02" src="./images/making-unity-beep-after-scripts-finish-reloading-02.jpg" /></p>
<p>I recently got the idea of having Unity inform …</p>
                </div>
            </li>
        </ul>
        <h2>2018</h2>
        <ul class="post-list">
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./opening-unity-script-files-in-emacs.html">Opening Unity Script Files in Emacs</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2018-01-24T14:32:00+08:00">Wed 24 January 2018</time>
                    <span>•</span>
                    <a href="./category/emacs.html">emacs</a>
                </div>
                <div class="post-summary">
                    <p><img alt="01" src="https://i.imgur.com/9XWvvi0.png" /></p>
<p>I've recently embarked on a mission to fully integrate <a href="https://www.gnu.org/software/emacs/">Emacs</a> with my Unity game development environment. One feature that I wanted to have is the ability to open Unity scripts and text-based files in Emacs instead of MonoDevelop. This is an easy task for supported external editors but for those who aren't (Like Emacs), doing something like this is a bit tricky.</p>
<p>Setting <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Invoking-emacsclient.html">emacsclient</a> as the external editor works in opening the files but the line number is not passed at all (Or is not received by emacs. <a href="https://forum.unity.com/threads/external-editor-arguments-issue.350473/">Seems to be a bug</a>). This means that opening files in the Project Window works but you would not be able to to jump to lines that have errors from the Console. This, of course, is unacceptable.</p>
<p><img alt="02" src="https://i.imgur.com/8gcVuom.png" /></p>
<p>I've tried a number of different solutions. A lot of them are hacky but clever. There was this one option of setting a <a href="https://github.com/bbbscarter/EmacsProxy">Sublime Text …</a></p>
                </div>
            </li>
        </ul>
        <h2>2017</h2>
        <ul class="post-list">
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./chef-wars-postmortem--what-went-right-risk-adjusted-estimates.html">Chef Wars Postmortem -- What Went Right: Risk Adjusted Technical Estimates</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2017-12-10T23:33:00+08:00">Sun 10 December 2017</time>
                    <span>•</span>
                    <a href="./category/postmortem.html">postmortem</a>
                </div>
                <div class="post-summary">
                    <p><strong>Note: This is from a <a href="http://www.accidentalrebel.com/tags/chefwars_postmortem/">series of articles</a> that outlines the things I've learned while making <a href="http://mindcakegames.com/">Chef Wars</a> for 2+ years.</strong></p>
<p><strong>TL;DR</strong></p>
<ul>
<li>We used a risk adjusted estimation system that produces near accurate estimates we can confidently rely on.</li>
</ul>
<hr />
<p>I usually dreaded being asked how long a programming task will take. I always seem to have the knack to overshoot no matter how hard I try. This is an all too common scenario that programmers face and is something that is considered to be a difficult, if not impossible, problem to solve.</p>
<p><img alt="01" src="https://i.imgur.com/KqCZUHl.jpg" /></p>
<p>This all changed when I was introduced to a helpful system that helps in producing estimates that are "accurate enough". I don't think it has a name yet but my colleagues who introduced me to it says that they got it from a <a href="https://www.gamasutra.com/view/feature/181992/waterfall_game_development_done_.php">Gamasutra article</a> by Eric Preisz of Garage Games. Since then I've used this system …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./chef-awrs-postmortem--what-went-wrong-optimizing-too-early-and-too-late.html">Chef Wars Postmortem -- What went wrong: Optimizing too early and too late</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2017-12-06T00:02:00+08:00">Wed 06 December 2017</time>
                    <span>•</span>
                    <a href="./category/postmortem.html">postmortem</a>
                </div>
                <div class="post-summary">
                    <p><strong>Note: This is from a <a href="http://www.accidentalrebel.com/tags/chefwars_postmortem/">series of articles</a> that outlines the things I've learned while making <a href="http://mindcakegames.com/">Chef Wars</a> for 2+ years.</strong></p>
<p><strong>TLDR</strong></p>
<ul>
<li>There is more to the saying that "premature optimization is the root of all evil".</li>
<li>Instead of asking WHEN to optimize, it is more important to ask WHAT and HOW to optimize.</li>
</ul>
<hr />
<p>It is a well known adage among programmers that premature optimization is the root of all evil. If this is true then I must have been very close to the devil himself.</p>
<p>During the early months of development on Chef Wars I did my best to optimize my code as much as possible. We were making a big game and I wanted to have a stable foundation to build our game on. I obsessed over lots of things from the interconnection of the various systems to folder structures. I was happy with all that I've built …</p>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./chef-wars-postmortem--what-went-right-having-a-universe-file.html">Chef Wars Postmortem -- What went right: Having a Universe File</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2017-12-05T12:56:00+08:00">Tue 05 December 2017</time>
                    <span>•</span>
                    <a href="./category/postmortem.html">postmortem</a>
                </div>
                <div class="post-summary">
                    <p><strong>Note: This is from a <a href="http://www.accidentalrebel.com/tags/chefwars_postmortem/">series of articles</a> that outlines the things I've learned while making <a href="http://mindcakegames.com/">Chef Wars</a> for 2+ years.</strong></p>
<p><strong>TLDR</strong></p>
<ul>
<li>All data in our game is contained in one excel file we call the "Universe".</li>
<li>Prototypes can be done on the Universe excel file itself</li>
<li>Iteration is easier as we only need to change one file.</li>
<li>We made a system that downloads changes from our server so players don't need to update their builds.</li>
</ul>
<hr />
<p>Before we started development on Chef Wars, Cliff, my co-founder and game designer for the team, already had pages of spreadsheets containing important values in the game. It's kinda like a game design document but in the form of tables, columns, and rows. This "Universe" file contained everything from stats, dialogue, competitions, locations, chefs, and enemies just to name a few. </p>
<p><img alt="01" src="https://i.imgur.com/rVZqbaH.png" /></p>
<div class="codehilite"><pre><span></span><code><span class="o">*</span><span class="nx">This</span><span class="w"> </span><span class="nx">file</span><span class="w"> </span><span class="nx">definitely</span><span class="w"> </span><span class="nx">gives</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">hint</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">what</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">guy</span><span class="w"> </span><span class="nx">Cliff</span><span class="w"> </span><span class="k">is …</span></code></pre></div>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./temp-solution-for-when-copying-does-not-work-in-emacs-under-windows-subsystem-for-linux.html">Temp Solution For When Text Copying Does Not Work in Emacs Under Windows Subsytem for Linux</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2017-09-23T13:08:00+08:00">Sat 23 September 2017</time>
                    <span>•</span>
                    <a href="./category/emacs.html">emacs</a>
                </div>
                <div class="post-summary">
                    <p>One of the problems I was having with my Emacs environment under WSL <em>(Windows Subsystem for Linux, aka. Bash On Windows)</em> is that I could not copy text from WSL Emacs to other Windows applications. Copy and pasting from Windows to Emacs works without any problems so it's weird it does not work the other way around.</p>
<p>I tried a lot of solutions from Google but none of them seem to work. There was an emacs package called <a href="https://github.com/rolandwalker/simpleclip">simpleclip</a> that worked but the results were not consistent.</p>
<p>I then realized that a temporary solution would be to make use of Windows' clip.exe command line utility which can bme seen below.</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">arebel-set-clipboard-data</span><span class="w"> </span><span class="p">(</span><span class="nv">str-val</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Puts text in Windows clipboard. Copying to Windows from WSL does </span>
<span class="s">not work on my end so this one is a temporary solution.</span>

<span class="s">This function is called from within the simpleclip package when copy </span>
<span class="s">or bgcopy …</span></code></pre></div>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./converting-org-journal-entry-to-org-page-post.html">Converting org-journal entry to org-page post</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2017-04-19T13:17:00+08:00">Wed 19 April 2017</time>
                    <span>•</span>
                    <a href="./category/org-mode.html">org-mode</a>
                </div>
                <div class="post-summary">
                    <p>Since my recent switch from Wordpress to <a href="https://github.com/kelvinh/org-page">org-page</a> I wanted a way to convert my org-journal entries to org-page posts. Instead of copying each entry by hand and pasting to an org-page new page buffer I decided to make an elisp code that would do it automatically which can be seen below:</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">arebel-org-journal-entry-to-org-page-post</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="s">&quot;Copy the org-journal entry at point and then convert it to a org-page new post buffer.&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nf">eq</span><span class="w"> </span><span class="ss">&#39;org-journal-mode</span><span class="w"> </span><span class="nv">major-mode</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">headline-text</span><span class="w"> </span><span class="p">(</span><span class="nf">nth</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">(</span><span class="nv">org-heading-components</span><span class="p">)))</span>
<span class="w">        </span><span class="p">(</span><span class="nv">entry-text</span><span class="w"> </span><span class="p">(</span><span class="nv">org-get-entry</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">funcall-interactively</span><span class="w"> </span><span class="ss">&#39;op/new-post</span><span class="w"> </span><span class="s">&quot;blog&quot;</span><span class="w"> </span><span class="p">(</span><span class="nf">concat</span><span class="w"> </span><span class="p">(</span><span class="nf">buffer-name</span><span class="p">)</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"> </span><span class="nv">headline-text</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">goto-char</span><span class="w"> </span><span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">insert</span><span class="w"> </span><span class="nv">entry-text</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;This function can only be called inside org-journal-mode.&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>

<p>The function is simple and uses functions from org-mode and org-page.</p>
<ul>
<li>First, it checks if the current buffer is in org-journal-mode</li>
<li>Then it gets the headline text and entry texts</li>
<li>It then calls op/new-post. It does it interactively so that it will trigger the prompts needed to …</li></ul>
                </div>
            </li>
            <li class="post-item">
                <h3 class="post-title">
                    <a href="./minifying-buffer-contents-in-emacs.html">Converting org-journal entry to org-page post</a>
                </h3>
                <div class="article-meta">
                    <time datetime="2017-04-19T13:17:00+08:00">Wed 19 April 2017</time>
                    <span>•</span>
                    <a href="./category/emacs.html">emacs</a>
                </div>
                <div class="post-summary">
                    <p>I needed a way to minify JSON files from Emacs so I made the short function below.</p>
<div class="codehilite"><pre><span></span><code><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">arebel-minify-buffer-contents</span><span class="p">()</span>
<span class="w">    </span><span class="s">&quot;Minifies the buffer contents by removing whitespaces.&quot;</span>
<span class="w">    </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nv">delete-whitespace-rectangle</span><span class="w"> </span><span class="p">(</span><span class="nf">point-min</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">point-max</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nv">mark-whole-buffer</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nf">goto-char</span><span class="w"> </span><span class="p">(</span><span class="nf">point-min</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nf">search-forward</span><span class="w"> </span><span class="s">&quot;\n&quot;</span><span class="w"> </span><span class="no">nil</span><span class="w"> </span><span class="no">t</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">replace-match</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="no">nil</span><span class="w"> </span><span class="no">t</span><span class="p">)))</span>
</code></pre></div>

<p>The function is very simple. First it deletes the whitespaces for the whole current buffer then removes every newline.</p>
<p>This effectively turns this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;glossary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example glossary&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;GlossDiv&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;GlossList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;GlossEntry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;ID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGML&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;SortAs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGML&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;GlossTerm&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Standard Generalized Markup Language&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;Acronym&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGML&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;Abbrev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ISO 8879:1986&quot;</span><span class="p">,</span>
<span class="nt">&quot;GlossDef&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>


<span class="w">                          </span><span class="nt">&quot;para&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A meta-markup language, used to create markup languages such as DocBook.&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;GlossSeeAlso&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;GML&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;XML&quot;</span><span class="p">]</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nt">&quot;GlossSee&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;markup&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>To this:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span><span class="nt">&quot;glossary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example glossary&quot;</span><span class="p">,</span><span class="nt">&quot;GlossDiv&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S&quot;</span><span class="p">,</span><span class="nt">&quot;GlossList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;GlossEntry&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;ID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGML&quot;</span><span class="p">,</span><span class="nt">&quot;SortAs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGML&quot;</span><span class="p">,</span><span class="nt">&quot;GlossTerm&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Standard Generalized Markup Language&quot;</span><span class="p">,</span><span class="nt">&quot;Acronym&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SGML&quot;</span><span class="p">,</span><span class="nt">&quot;Abbrev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ISO 8879:1986&quot;</span><span class="p">,</span><span class="nt">&quot;GlossDef&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;para&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A meta-markup language, used to create markup languages such as DocBook.&quot;</span><span class="p">,</span><span class="nt">&quot;GlossSeeAlso&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;GML&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;XML&quot;</span><span class="p">]},</span><span class="nt">&quot;GlossSee&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;markup …</span></code></pre></div>
                </div>
            </li>
        </ul>
    </div>
</article>
        </div>
    </main>

    <script src="./theme/js/main.js"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55068085-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-55068085-2');
    </script>
</body>
</html>